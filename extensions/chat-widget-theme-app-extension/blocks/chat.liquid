{% schema %}
{
  "name": "IbiBot Assistant",
  "target": "body",
  "stylesheet": "chat-widget.css",
  "javascript": "chat-widget.js",
  "settings": [
    {
      "type": "text",
      "id": "welcome_message",
      "label": "Message de bienvenue",
      "default": "Bonjour ! Je suis IbiBot, comment puis-je vous aider ?"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Couleur du bouton",
      "default": "#2B3B56"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Texte du bouton",
      "default": "Chat avec IbiBot"
    },
    {
      "type": "select",
      "id": "button_style",
      "label": "Style du bouton",
      "options": [
        {
          "value": "circle",
          "label": "Rond"
        },
        {
          "value": "rectangle",
          "label": "Rectangle"
        }
      ],
      "default": "circle"
    },
    {
      "type": "select",
      "id": "button_icon",
      "label": "Icône du bouton",
      "options": [
        {
          "value": "chat",
          "label": "Chat"
        },
        {
          "value": "message",
          "label": "Message"
        },
        {
          "value": "support",
          "label": "Support"
        }
      ],
      "default": "chat"
    },
    {
      "type": "text",
      "id": "chat_title",
      "label": "Titre du chat",
      "default": "IbiBot"
    },
    {
      "type": "color",
      "id": "header_color",
      "label": "Couleur de l'en-tête",
      "default": "#2E496A"
    },
    {
      "type": "color",
      "id": "chat_background",
      "label": "Couleur de fond du chat",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "user_message_color",
      "label": "Couleur des messages utilisateur",
      "default": "#2E496A"
    },
    {
      "type": "color",
      "id": "bot_message_color",
      "label": "Couleur des messages du bot",
      "default": "#F0F0F0"
    },
    {
      "type": "select",
      "id": "chat_position",
      "label": "Position du chat",
      "options": [
        {
          "value": "bottom-right",
          "label": "Bas droite"
        },
        {
          "value": "bottom-left",
          "label": "Bas gauche"
        }
      ],
      "default": "bottom-right"
    },
    {
      "type": "range",
      "id": "logo_size",
      "min": 20,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Taille du logo",
      "default": 32
    }
  ]
}
{% endschema %}

<div id="shopify-chat-widget" 
  data-welcome-message="{{ block.settings.welcome_message }}"
  data-button-color="{{ block.settings.button_color }}"
  data-button-text="{{ block.settings.button_text }}"
  data-button-style="{{ block.settings.button_style }}"
  data-button-icon="{{ block.settings.button_icon }}"
  data-chat-title="{{ block.settings.chat_title }}"
  data-header-color="{{ block.settings.header_color }}"
  data-chat-background="{{ block.settings.chat_background }}"
  data-user-message-color="{{ block.settings.user_message_color }}"
  data-bot-message-color="{{ block.settings.bot_message_color }}"
  data-chat-position="{{ block.settings.chat_position }}"
  data-chat-logo="{{ 'bot-avatar.svg' | asset_url }}"
  data-logo-size="{{ block.settings.logo_size }}">
</div> 